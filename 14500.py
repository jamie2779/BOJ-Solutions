n,m = map(int,input().split())
ls = []
for i in range(n):
    ls.append(list(map(int,input().split())))

t = [   [[0,1,0],[1,1,1]],
        [[1,0],[1,1],[1,0]],
        [[1,1,1],[0,1,0]],
        [[0,1],[1,1],[0,1]],

        [[1,0],[1,0],[1,1]],
        [[0,0,1],[1,1,1]],
        [[1,1],[0,1],[0,1]],
        [[1,1,1],[1,0,0]],

        [[0,1],[0,1],[1,1]],
        [[1,1,1],[0,0,1]],
        [[1,1],[1,0],[1,0]],
        [[1,0,0],[1,1,1]],

        [[1,0],[1,1],[0,1]],
        [[0,1,1],[1,1,0]],

        [[0,1],[1,1],[1,0]],
        [[1,1,0],[0,1,1]],

        [[1,1],[1,1]],

        [[1,1,1,1]],
        [[1],[1],[1],[1]],
        ]

mx = 0

for i in range(n):
    for ii in range(m):
        for iii in t:
            if i+len(iii)<=n and ii+len(iii[0]) <= m:
                s = 0
                for iv in range(len(iii)):
                    for v in range(len(iii[0])):
                        s += ls[i+iv][ii+v] * iii[iv][v]
                if s > mx:
                    mx = s

print(mx)